[{"path":"https://DISSC-yale.github.io/pophive_demo/articles/standards.html","id":"naming","dir":"Articles","previous_headings":"","what":"Naming","title":"Standards","text":"general guidelines naming files: use portable characters: Best stick -z0-9_-, certainly never use :. Keep names short: total path length limit Windows, avoid long files names especially deeply nested within directories. Avoid duplicating information path (e.g., instead category/category_data.csv use category/data.csv). Avoid new files: file represents thing (e.g., result download given source), keep name, opposed dates version numbers appended name. New versions files overwrite previous versions, potentially merged, deepening data source. Versions files retained git tree, rather separate files. similar considerations naming variables: Best stick limited set characters (-z0-9_). Keep lengths minimal, still identifiable – able tell variable means name, complete information stored measure info entry. instance, include subset value-related information multiple variants (e.g., value_count value_percent). Make names unique across source projects. means including enough relevant source information. source may implicitly include information value, kept name, made explicit measure info.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/articles/standards.html","id":"compression","dir":"Articles","previous_headings":"","what":"Compression","title":"Standards","text":"Almost data files can compressed compressed. main reason compress file meant viewing, rather read . Gzip portable type compression, files gzip-compressed can read URL, rather needing downloaded read separately. makes gzip good standard output files. LZMA (xz) generally results smaller files, may best raw files. Parquet files default snappy compression, can also use gzip. Gzip generally results smaller files, slightly less readily usable browsers, may best use snappy files meant web, use gzip otherwise. vroom package, among others, automatically compresses writing, decompresses reading, based file name: standard functions (like read.csv) now automatically decompress, automatically compress, connection must used writing: function doesn’t automatically handle compression extensions, accept connection, can use gzfile function across compression types read:","code":"data <- vroom::vroom(\"data.csv.xz\") vroom::vroom_write(data, \"data.csv.xz\", \",\") data <- read.csv(\"data.csv.xz\") write.csv(data, xzfile(\"data.csv.xz\"), row.names = FALSE) data <- arrow::read_csv_arrow(gzfile(\"data.csv.xz\"))"},{"path":"https://DISSC-yale.github.io/pophive_demo/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Yale School Public Health. Funder, copyright holder. Micah Iserman. Maintainer, author.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Iserman M (2025). pophive: PopHIVE: Population Health Information Visualization Exchange. R package version 0.1.0, https://DISSC-yale.github.io/pophive_demo.","code":"@Manual{,   title = {pophive: PopHIVE: Population Health Information and Visualization Exchange},   author = {Micah Iserman},   year = {2025},   note = {R package version 0.1.0},   url = {https://DISSC-yale.github.io/pophive_demo}, }"},{"path":"https://DISSC-yale.github.io/pophive_demo/index.html","id":"population-health-information-and-visualization-exchange","dir":"","previous_headings":"","what":"PopHIVE: Population Health Information and Visualization Exchange","title":"PopHIVE: Population Health Information and Visualization Exchange","text":"R package establish work within data collection framework.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"PopHIVE: Population Health Information and Visualization Exchange","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"dissc-yale/pophive_demo\")"},{"path":"https://DISSC-yale.github.io/pophive_demo/index.html","id":"data-collection","dir":"","previous_headings":"","what":"Data Collection","title":"PopHIVE: Population Health Information and Visualization Exchange","text":"data directory contains source projects, initialized pophive_add_source function: source project includes ingest.R script, download data source project’s raw directory possible, ultimately add data source project’s standard directory. Data files standard directory mixed, tabular format, meaning locations times potentially repeated across rows, variables, including subsets, spread across columns: data file standard directory include two standard columns: geography: sort location ID, ideally form GEOID (e.g., c(\"10\", \"10100\")). time: sort time, ideally format YYYY-MM-DD HH:MM:SS (e.g., c(\"2020\", \"2020-01-01\")). ID columns ideally hierarchical, sub-parts meaning levels. instance, first 2 characters identify state, first 5 uniquely identify county. Additional columns treated values interest, documented measure_info.json file.","code":"pophive_add_source(\"new_source\") geography time       value_total value_partial 10        2020       10          2.34 10100     2020-01-01 20          2.44"},{"path":"https://DISSC-yale.github.io/pophive_demo/index.html","id":"processing-and-checking","dir":"","previous_headings":"Data Collection","what":"Processing and Checking","title":"PopHIVE: Population Health Information and Visualization Exchange","text":"pophive_process function executes ingest.R file within source project, creates / updates standard/datapackage.json file base data found standard directory. pophive_check_source function runs checks standard data measure info within source project:","code":"pophive_process(\"new_source\") pophive_check_source(\"new_source\")"},{"path":"https://DISSC-yale.github.io/pophive_demo/index.html","id":"disclaimer","dir":"","previous_headings":"","what":"Disclaimer","title":"PopHIVE: Population Health Information and Visualization Exchange","text":"data PopHIVE statistical outputs provided “”, without warranty kind, express implied, including limited warranties merchantability, fitness particular purpose, noninfringement. event shall authors, contributors, copyright holders liable claim, damages, liability, whether action contract, tort, otherwise, arising , , connection data use dealings data. PopHIVE statistical outputs research tools intended use fields public health medicine. intended clinical decision making, intended used diagnosis treatment patients may useful appropriate clinical purpose. Users PopHIVE statistical outputs aware responsibilities ensure ethical appropriate use technology, including adherence applicable legal regulatory requirements. content data provided statistical outputs replace expertise healthcare professionals. Healthcare professionals use professional judgment evaluating outputs PopHIVE statistical outputs.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 pophive authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive-package.html","id":null,"dir":"Reference","previous_headings":"","what":"pophive: PopHIVE: Population Health Information and Visualization Exchange — pophive-package","title":"pophive: PopHIVE: Population Health Information and Visualization Exchange — pophive-package","text":"Collection use population health data.","code":""},{"path":[]},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"pophive: PopHIVE: Population Health Information and Visualization Exchange — pophive-package","text":"Maintainer: Micah Iserman micah.iserman@gmail.com contributors: Yale School Public Health [funder, copyright holder]","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_add_source.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds a source project structure — pophive_add_source","title":"Adds a source project structure — pophive_add_source","text":"Establishes new data source project, used collect prepare data new source.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_add_source.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds a source project structure — pophive_add_source","text":"","code":"pophive_add_source(name, base_dir = \"data\", open_after = TRUE)"},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_add_source.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds a source project structure — pophive_add_source","text":"name Name source. base_dir Path directory containing sources. open_after Logical; FALSE, open project.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_add_source.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds a source project structure — pophive_add_source","text":"Nothing; creates default files directories.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_add_source.html","id":"project","dir":"Reference","previous_headings":"","what":"Project","title":"Adds a source project structure — pophive_add_source","text":"Within source project, two files edits: ingest.R: primary script, automatically rerun.     store raw data resources raw/ possible,     use raw/ produce standard-format files standard/.     file sourced location processing, system paths     must relative . measure_info.json: can record information     variables included standardized data files.     See data_measure_info.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_add_source.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Adds a source project structure — pophive_add_source","text":"","code":"data_source_dir <- tempdir() pophive_add_source(\"source_name\", data_source_dir) #> Error: RStudio not running list.files(paste0(data_source_dir, \"/source_name\")) #> [1] \"README.md\"         \"ingest.R\"          \"measure_info.json\" #> [4] \"project.Rproj\"     \"raw\"               \"standard\""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_check_sources.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Data Sources — pophive_check_sources","title":"Check Data Sources — pophive_check_sources","text":"Check data files measure info source projects.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_check_sources.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Data Sources — pophive_check_sources","text":"","code":"pophive_check_sources(   names = list.dirs(\"data\", recursive = FALSE, full.names = FALSE),   source_dir = \"data\",   verbose = TRUE )"},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_check_sources.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Data Sources — pophive_check_sources","text":"names Name names source projects. source_dir Path directory containing source projects. verbose Logical; FALSE, print status messages.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_check_sources.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Data Sources — pophive_check_sources","text":"list entry source, containing character vector   including issue codes: not_compressed: file appear compressed. cant_read: Failed read file . geography_missing: File contain geography column. geography_nas: file's geography column contains NAs. time_missing: File contain time column. time_nas: file's time column contains NAs. missing_info: {column_name}: file's indicated column     matching entry measure_info.json.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_check_sources.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check Data Sources — pophive_check_sources","text":"","code":"if (FALSE) { # \\dontrun{   pophive_check_sources(\"gtrends\") } # }"},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_download_cdc.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Data from the CDC — pophive_download_cdc","title":"Download Data from the CDC — pophive_download_cdc","text":"Download data metadata Centers Disease Control Prevention (CDC).","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_download_cdc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Data from the CDC — pophive_download_cdc","text":"","code":"pophive_download_cdc(id, out_dir = \"raw\", verbose = TRUE)"},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_download_cdc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Data from the CDC — pophive_download_cdc","text":"id ID resource (e.g., ijqb-a7ye). out_dir Directory save metadata data files. verbose Logical; FALSE, display status messages.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_download_cdc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Data from the CDC — pophive_download_cdc","text":"Nothing; downloads files (<id>.json <id>.csv.xz) out_dir","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_download_cdc.html","id":"data-cdc-gov-urls","dir":"Reference","previous_headings":"","what":"data.cdc.gov URLs","title":"Download Data from the CDC — pophive_download_cdc","text":"resource ID, 3 relevant CDC URLs: resource/<id>: redirects resource's main page,     displayed metadata data preview     (e.g., data.cdc.gov/resource/ijqb-a7ye). api/views/<id>: direct link underlying     JSON metadata (e.g., data.cdc.gov/api/views/ijqb-a7ye). api/views/<id>/rows.csv: direct link full     CSV dataset (e.g., data.cdc.gov/api/views/ijqb-a7ye/rows.csv).","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_download_cdc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Data from the CDC — pophive_download_cdc","text":"","code":"if (FALSE) { # \\dontrun{   pophive_download_cdc(\"ijqb-a7ye\") } # }"},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_process.html","id":null,"dir":"Reference","previous_headings":"","what":"Run Data Sources — pophive_process","title":"Run Data Sources — pophive_process","text":"Optionally run ingestion script data source, collect metadata.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_process.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run Data Sources — pophive_process","text":"","code":"pophive_process(name = NULL, source_dir = \"data\", ingest = TRUE)"},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_process.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run Data Sources — pophive_process","text":"name Name source project process. source_dir Path directory containing source projects. ingest Logical; FALSE, re-process standardized data without running ingestion scripts.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_process.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run Data Sources — pophive_process","text":"list processing results: timings: many seconds ingestion script took run. logs: captured output ingestion script. entry entry source. `datapackage.json` file also created / update source's `standard` directory.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_process.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run Data Sources — pophive_process","text":"","code":"if (FALSE) { # \\dontrun{   # run from a directory containing a `data` directory containing the source   pophive_process(\"source_name\")    # run without executing the ingestion script   pophive_process(\"source_name\", ingest = FALSE) } # }"},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_update_manifest.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds a source project structure — pophive_update_manifest","title":"Adds a source project structure — pophive_update_manifest","text":"Adds source project structure","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_update_manifest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds a source project structure — pophive_update_manifest","text":"","code":"pophive_update_manifest(path, url = NULL, description = NULL)"},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_update_manifest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds a source project structure — pophive_update_manifest","text":"path Path file record state . url URL file originally downloaded . description High-level description file, add metadata entry.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_update_manifest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds a source project structure — pophive_update_manifest","text":"List file metadata, also added manifest.json file: url URL file. description Provided description. time Time downloaded; YYYY-MM-DD HH:MM:SS TZ bytes Size file bytes. md5 MD5 hash file.","code":""},{"path":"https://DISSC-yale.github.io/pophive_demo/reference/pophive_update_manifest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Adds a source project structure — pophive_update_manifest","text":"","code":"if (dir.exists(\"../data\")) {   # download the file   url <- paste0(     \"https://raw.githubusercontent.com/DISSC-yale/gtrends_collection/\",     \"refs/heads/main/data/term%3D%252Fg%252F11j30ybfx6/part-0.parquet\"   )   path <- tempfile(fileext = \".parquet\")   download.file(url, path, mode = \"wb\")    # add/update metadata in manifest.json   pophive_update_manifest(     path, url,     description = paste(       \"Google Trends data for the /g/11j30ybfx6\",       \"(Respiratory syncytial virus vaccine) topic.\"     )   ) }"}]
