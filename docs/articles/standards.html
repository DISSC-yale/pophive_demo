<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Standards • pophive</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Standards">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pophive</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/standards.html">Standards</a></li>
<li class="nav-item"><a class="nav-link" href="../report">Report</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DISSC-yale/pophive_demo/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Standards</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DISSC-yale/pophive_demo/blob/HEAD/vignettes/articles/standards.Rmd" class="external-link"><code>vignettes/articles/standards.Rmd</code></a></small>
      <div class="d-none name"><code>standards.Rmd</code></div>
    </div>

    
    
<p>Aside from the stricter standards that are established and checked by
the package, there are many soft standards to try to align with as part
of building up a source project.</p>
<div class="section level2">
<h2 id="naming">Naming<a class="anchor" aria-label="anchor" href="#naming"></a>
</h2>
<p>There are a few general guidelines for naming files:</p>
<ol style="list-style-type: decimal">
<li>Only use portable characters: Best to stick to
<code>a-z0-9_-</code>, but certainly never use <code>:</code>.</li>
<li>Keep names short: There is a total path length limit on Windows, so
avoid long files names especially when deeply nested within directories.
Avoid duplicating information in the path (e.g., instead of
<code>category/category_data.csv</code> use
<code>category/data.csv</code>).</li>
<li>Avoid new files: When a file represents the same thing (e.g., result
of a download from a given source), it should keep the same name, as
opposed to having dates or version numbers appended to the name. New
versions of files should overwrite previous versions, potentially after
being merged, deepening on the data source. Versions of files are
retained in the git tree, rather than in separate files.</li>
</ol>
<p>And there are similar considerations when naming variables:</p>
<ol style="list-style-type: decimal">
<li>Best to stick to a limited set of characters
(<code>a-z0-9_</code>).</li>
<li>Keep lengths minimal, while still being identifiable – you should be
able to tell what the variable means from the name, but complete
information should be stored in the measure info entry. For instance,
only include subset or value-related information if there are multiple
variants (e.g., <code>value_count</code> and
<code>value_percent</code>).</li>
<li>Make names unique across source projects. This means including
enough relevant source information. The source may implicitly include
information about the value, so this should be kept out of the name, and
only made explicit in the measure info.</li>
</ol>
</div>
<div class="section level2">
<h2 id="compression">Compression<a class="anchor" aria-label="anchor" href="#compression"></a>
</h2>
<p>Almost any data files that can be compressed should be
compressed.</p>
<p>The main reason not to compress a file is if it is meant for viewing,
rather than being read in.</p>
<p>Gzip is the most portable type of compression, and files that are
gzip-compressed can be read in from a URL, rather than needing to be
downloaded and read in separately. This makes gzip good for the standard
output files.</p>
<p>LZMA (xz) generally results in smaller files, so it may be best for
raw files.</p>
<p>Parquet files default to snappy compression, but can also use gzip.
Gzip generally results in smaller files, but is slightly less readily
usable in browsers, so it may be best to use snappy if files are meant
for the web, and use gzip otherwise.</p>
<p>The <code>vroom</code> package, among others, automatically
compresses when writing, and decompresses when reading, based on the
file name:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">vroom</span><span class="fu">::</span><span class="fu"><a href="https://vroom.r-lib.org/reference/vroom.html" class="external-link">vroom</a></span><span class="op">(</span><span class="st">"data.csv.xz"</span><span class="op">)</span></span>
<span><span class="fu">vroom</span><span class="fu">::</span><span class="fu"><a href="https://vroom.r-lib.org/reference/vroom_write.html" class="external-link">vroom_write</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"data.csv.xz"</span>, <span class="st">","</span><span class="op">)</span></span></code></pre></div>
<p>The some standard functions (like <code>read.csv</code>) now
automatically decompress, but do not automatically compress, so a
connection must be used when writing:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"data.csv.xz"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">xzfile</a></span><span class="op">(</span><span class="st">"data.csv.xz"</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>If a function doesn’t automatically handle compression extensions,
but does accept a connection, you can use the <code>gzfile</code>
function across compression types to read:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">arrow</span><span class="fu">::</span><span class="fu"><a href="https://arrow.apache.org/docs/r/reference/read_delim_arrow.html" class="external-link">read_csv_arrow</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">gzfile</a></span><span class="op">(</span><span class="st">"data.csv.xz"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://ysph.yale.edu/" class="external-link">Yale School of Public Health</a>, Micah Iserman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
